{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{RxTextAlignLeft}from\"react-icons/rx\";import{Link,useNavigate}from\"react-router-dom\";import{IoArrowBackOutline}from\"react-icons/io5\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddGroup(){const[formData,setFormData]=useState({name:\"\",member:[]});const navigate=useNavigate();function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1);}const handleChange=event=>{const{name,value}=event.target;setFormData({...formData,[name]:capitalizeFirstLetter(value)});};const handleSubmit=async e=>{e.preventDefault();const userid=localStorage.getItem(\"id\");try{const newGp=await axios.post(\"http://127.0.0.1:5100/group/create\",formData);console.log(\"nnnn\",newGp);if(newGp.data._id){const groupid=newGp.data._id;await axios.post(\"http://127.0.0.1:5100/group/\".concat(groupid,\"/members\"),{memberId:userid});navigate(\"/dashboard\");}}catch(err){alert(err.response.data.error);console.log(err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900 min-h-screen text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between px-6 py-4 bg-gray-800 shadow-md\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",children:/*#__PURE__*/_jsx(IoArrowBackOutline,{className:\"text-3xl text-white hover:text-gray-400 cursor-pointer\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto flex justify-center items-center min-h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Add Group\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"flex flex-col gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex items-center mt-1\",children:[/*#__PURE__*/_jsx(RxTextAlignLeft,{className:\"absolute left-3 text-gray-400 text-lg\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,className:\"w-full h-10 pl-10 pr-3 text-base placeholder-gray-400 text-black border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter group name\",required:true})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full h-12 px-6 py-2 font-medium text-white bg-blue-600 rounded-full hover:bg-blue-500 focus:outline-none focus:bg-blue-500 transition-all\",children:\"Add Group\"})]})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","RxTextAlignLeft","Link","useNavigate","IoArrowBackOutline","axios","jsx","_jsx","jsxs","_jsxs","AddGroup","formData","setFormData","name","member","navigate","capitalizeFirstLetter","string","charAt","toUpperCase","slice","handleChange","event","value","target","handleSubmit","e","preventDefault","userid","localStorage","getItem","newGp","post","console","log","data","_id","groupid","concat","memberId","err","alert","response","error","className","children","to","onSubmit","type","onChange","placeholder","required"],"sources":["/Users/shaghayeghzarei/Documents/School/Semester 6/Fullstack/101274382_lab_test1_chatapp/101274382_lab_test1_chatapp/frontend/src/screens/AddGroup.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { RxTextAlignLeft } from \"react-icons/rx\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { IoArrowBackOutline } from \"react-icons/io5\";\nimport axios from \"axios\";\n\nexport default function AddGroup() {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    member: [],\n  }); \n  const navigate = useNavigate();\n\n  function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormData({ ...formData, [name]: capitalizeFirstLetter(value) });\n  };\n\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const userid = localStorage.getItem(\"id\");\n    \n    try {\n      const newGp = await axios.post(\"http://127.0.0.1:5100/group/create\", formData);\n      console.log(\"nnnn\",newGp);\n\n    \n      if(newGp.data._id) {\n        const groupid = newGp.data._id;\n  \n        await axios.post(`http://127.0.0.1:5100/group/${groupid}/members`, {\n          memberId: userid,\n        });\n  \n        navigate(\"/dashboard\");\n      }\n    } catch (err) {\n      alert(err.response.data.error);\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"bg-gray-900 min-h-screen text-white\">\n      <div className=\"flex items-center justify-between px-6 py-4 bg-gray-800 shadow-md\">\n        <Link to=\"/dashboard\">\n          <IoArrowBackOutline className=\"text-3xl text-white hover:text-gray-400 cursor-pointer\" />\n        </Link>\n      </div>\n\n      <div className=\"container mx-auto flex justify-center items-center min-h-screen\">\n        <div className=\"bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md\">\n          <h2 className=\"text-xl font-semibold mb-2\">Add Group</h2>\n\n          <form onSubmit={handleSubmit} className=\"flex flex-col gap-4\">\n            <div className=\"relative\">\n              <div className=\"relative flex items-center mt-1\">\n                <RxTextAlignLeft className=\"absolute left-3 text-gray-400 text-lg\" />\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={formData.name}\n                  onChange={handleChange}\n                  className=\"w-full h-10 pl-10 pr-3 text-base placeholder-gray-400 text-black border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"Enter group name\"\n                  required\n                />\n              </div>\n            </div>\n\n            <button\n              type=\"submit\"\n              className=\"w-full h-12 px-6 py-2 font-medium text-white bg-blue-600 rounded-full hover:bg-blue-500 focus:outline-none focus:bg-blue-500 transition-all\"\n            >\n              Add Group\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}