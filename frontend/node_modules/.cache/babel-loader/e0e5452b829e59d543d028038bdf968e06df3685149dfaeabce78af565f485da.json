{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Dashboard(){const[groupList,setGroupList]=useState([]);const[userlist,setUserlist]=useState([]);const navigate=useNavigate();useEffect(()=>{loadGroups();loadUsers();},[]);const loadGroups=async()=>{try{const result=await axios.get(\"http://127.0.0.1:5100/group/groups\");setGroupList(result.data);}catch(err){console.error(\"Error loading groups:\",err);}};const loadUsers=async()=>{try{const result=await axios.get(\"http://127.0.0.1:5100/user/users\");setUserlist(result.data.data);}catch(err){console.error(\"Error loading users:\",err);}};const deleteGroup=async id=>{try{await axios.delete(\"http://127.0.0.1:5100/group/\".concat(id));loadGroups();}catch(error){console.error(\"Error deleting group:\",error);}};const addMembers=id=>{navigate(\"/chat/\".concat(id));};const logout=()=>{localStorage.clear();navigate(\"/\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900 min-h-screen text-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-6 py-4 bg-gray-800 shadow-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-semibold\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded-lg text-white\",children:\"Add Group\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"bg-red-600 hover:bg-red-500 px-4 py-2 rounded-lg text-white\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6 flex flex-col md:flex-row gap-8 mt-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/2 bg-gray-800 p-5 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4 border-b pb-2\",children:\"Users\"}),userlist.length>0?userlist.map(user=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-700 p-3 mb-2 rounded-lg shadow-md\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Username:\"}),\" \",user.username]})},user._id)):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"No users available\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/2 bg-gray-800 p-5 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4 border-b pb-2\",children:\"Groups\"}),groupList.length>0?groupList.map(group=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 p-4 mb-3 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[\"Group Name: \",group.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400\",children:[\"Members: \",group.members.length]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>addMembers(group._id),className:\"bg-green-600 hover:bg-green-500 px-3 py-1 rounded-lg text-white\",children:\"Join\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteGroup(group._id),className:\"bg-red-600 hover:bg-red-500 px-3 py-1 rounded-lg text-white\",children:\"Delete\"})]})]},group._id)):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"No groups available\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Dashboard","groupList","setGroupList","userlist","setUserlist","navigate","loadGroups","loadUsers","result","get","data","err","console","error","deleteGroup","id","delete","concat","addMembers","logout","localStorage","clear","className","children","to","onClick","length","map","user","username","_id","group","name","members"],"sources":["/Users/shaghayeghzarei/Documents/School/Semester 6/Fullstack/101274382_lab_test1_chatapp/101274382_lab_test1_chatapp/frontend/src/screens/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default function Dashboard() {\n    const [groupList, setGroupList] = useState([]);\n    const [userlist, setUserlist] = useState([]);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        loadGroups();\n        loadUsers();\n    }, []);\n\n    const loadGroups = async () => {\n        try {\n            const result = await axios.get(\"http://127.0.0.1:5100/group/groups\");\n            setGroupList(result.data);\n        } catch (err) {\n            console.error(\"Error loading groups:\", err);\n        }\n    };\n\n    const loadUsers = async () => {\n        try {\n            const result = await axios.get(\"http://127.0.0.1:5100/user/users\");\n            setUserlist(result.data.data);\n        } catch (err) {\n            console.error(\"Error loading users:\", err);\n        }\n    };\n\n    const deleteGroup = async (id) => {\n        try {\n            await axios.delete(`http://127.0.0.1:5100/group/${id}`);\n            loadGroups();\n        } catch (error) {\n            console.error(\"Error deleting group:\", error);\n        }\n    };\n\n    const addMembers = (id) => {\n        navigate(`/chat/${id}`);\n    };\n\n    const logout = () => {\n        localStorage.clear();\n        navigate(\"/\");\n    };\n\n    return (\n        <div className=\"bg-gray-900 min-h-screen text-white\">\n            <div className=\"flex items-center justify-between px-6 py-4 bg-gray-800 shadow-md\">\n                <h1 className=\"text-3xl font-semibold\">Dashboard</h1>\n                <div className=\"space-x-4\">\n                    <Link to=\"/group\">\n                        <button className=\"bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded-lg text-white\">Add Group</button>\n                    </Link>\n                    <button onClick={logout} className=\"bg-red-600 hover:bg-red-500 px-4 py-2 rounded-lg text-white\">Logout</button>\n                </div>\n            </div>\n\n            <div className=\"container mx-auto p-6 flex flex-col md:flex-row gap-8 mt-10\">\n                {/* Users List */}\n                <div className=\"w-full md:w-1/2 bg-gray-800 p-5 rounded-lg shadow-lg\">\n                    <h2 className=\"text-xl font-semibold mb-4 border-b pb-2\">Users</h2>\n                    {userlist.length > 0 ? (\n                        userlist.map((user) => (\n                            <div key={user._id} className=\"bg-gray-700 p-3 mb-2 rounded-lg shadow-md\">\n                                <p><strong>Username:</strong> {user.username}</p>\n                            </div>\n                        ))\n                    ) : (\n                        <p className=\"text-gray-400\">No users available</p>\n                    )}\n                </div>\n\n                {/* Groups List */}\n                <div className=\"w-full md:w-1/2 bg-gray-800 p-5 rounded-lg shadow-lg\">\n                    <h2 className=\"text-xl font-semibold mb-4 border-b pb-2\">Groups</h2>\n                    {groupList.length > 0 ? (\n                        groupList.map((group) => (\n                            <div key={group._id} className=\"bg-gray-700 p-4 mb-3 rounded-lg shadow-md\">\n                                <p className=\"font-semibold\">Group Name: {group.name}</p>\n                                <p className=\"text-sm text-gray-400\">Members: {group.members.length}</p>\n                                <div className=\"mt-2 flex space-x-3\">\n                                    <button \n                                        onClick={() => addMembers(group._id)} \n                                        className=\"bg-green-600 hover:bg-green-500 px-3 py-1 rounded-lg text-white\"\n                                    >\n                                        Join\n                                    </button>\n                                    <button \n                                        onClick={() => deleteGroup(group._id)} \n                                        className=\"bg-red-600 hover:bg-red-500 px-3 py-1 rounded-lg text-white\"\n                                    >\n                                        Delete\n                                    </button>\n                                </div>\n                            </div>\n                        ))\n                    ) : (\n                        <p className=\"text-gray-400\">No groups available</p>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}