{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{RxTextAlignLeft}from\"react-icons/rx\";import ParticlesComponent from\"../components/ParticlesComponent\";import{Link,useNavigate}from\"react-router-dom\";import{IoArrowBackOutline}from\"react-icons/io5\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddGroup(){const[formData,setFormData]=useState({name:\"\",member:[]});const navigate=useNavigate();function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1);}const handleChange=event=>{const{name,value}=event.target;setFormData({...formData,[name]:capitalizeFirstLetter(value)});};const handleSubmit=async e=>{e.preventDefault();const userid=localStorage.getItem(\"id\");try{const newGp=await axios.post(\"http://localhost:5100/group/create\",formData);console.log(\"nnnn\",newGp);if(newGp.data._id){const groupid=newGp.data._id;await axios.post(\"http://localhost:5100/group/\".concat(groupid,\"/members\"),{memberId:userid});navigate(\"/dashboard\");}}catch(err){alert(err.response.data.error);console.log(err);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-start justify-start pl-5 py-4  text-gray-500 bg-[#282828] absolute w-full z-10\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold\",children:\"Add Group\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto min-h-screen min-w-full\",children:[/*#__PURE__*/_jsx(ParticlesComponent,{}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen min-w-fit px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col relative justify-center items-center w-full p-4 bg-white rounded-lg md:w-2/3 lg:w-1/3 z-10 mt-16 shadow-[0px_0px_25px_10px_#282828]\",children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"absolute top-2 left-2 hover:cursor-pointer\",children:/*#__PURE__*/_jsx(IoArrowBackOutline,{className:\"text-4xl text-black\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center \",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-2 text-xl font-bold text-gray-700\",children:\"Add Group\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"Please fill the form to add a new group.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col mt-4 w-80 justify-center \",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,autoComplete:\"false\",className:\" flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col relative \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-400 mb-1\",children:\"Group name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex relative mx-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center justify-center absolute left-0 top-0 w-10 h-full pl-3 pr-3 text-gray-400 scale-[1.2]\",children:/*#__PURE__*/_jsx(RxTextAlignLeft,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,className:\"w-full h-10 pl-10 pr-3 text-base placeholder-gray-400 text-black border rounded-lg focus:shadow-outline\",placeholder:\"Group name\",required:true})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col mt-6 w-52  justify-self-center self-center \",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\" place-self-center w-full h-12 px-6 py-2 font-medium tracking-wide text-white capitalize duration-200 transform bg-sky-600 rounded-full hover:bg-sky-500 focus:outline-none focus:bg-sky-500 hover:scale-[1.095] transition-all duration-800 ease-linear \",children:\"Add Group\"})})]})})]})})]})]});}","map":{"version":3,"names":["React","useState","useEffect","RxTextAlignLeft","ParticlesComponent","Link","useNavigate","IoArrowBackOutline","axios","jsx","_jsx","jsxs","_jsxs","AddGroup","formData","setFormData","name","member","navigate","capitalizeFirstLetter","string","charAt","toUpperCase","slice","handleChange","event","value","target","handleSubmit","e","preventDefault","userid","localStorage","getItem","newGp","post","console","log","data","_id","groupid","concat","memberId","err","alert","response","error","children","className","to","onSubmit","autoComplete","type","onChange","placeholder","required"],"sources":["/Users/shaghayeghzarei/Documents/School/Semester 6/Fullstack/101274382_lab_test1_chatapp/101274382_lab_test1_chatapp/frontend/src/screens/AddGroup.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { RxTextAlignLeft } from \"react-icons/rx\";\nimport ParticlesComponent from \"../components/ParticlesComponent\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { IoArrowBackOutline } from \"react-icons/io5\";\nimport axios from \"axios\";\n\n\nexport default function AddGroup() {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    member: [],\n  });\n  const navigate = useNavigate();\n\n  function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormData({ ...formData, [name]: capitalizeFirstLetter(value) });\n  };\n\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const userid = localStorage.getItem(\"id\");\n    \n    try {\n      const newGp = await axios.post(\"http://localhost:5100/group/create\", formData);\n      console.log(\"nnnn\",newGp);\n\n    \n      if(newGp.data._id) {\n        const groupid = newGp.data._id;\n  \n        await axios.post(`http://localhost:5100/group/${groupid}/members`, {\n          memberId: userid,\n        });\n  \n        navigate(\"/dashboard\");\n      }\n    } catch (err) {\n      alert(err.response.data.error);\n      console.log(err);\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"flex flex-col items-start justify-start pl-5 py-4  text-gray-500 bg-[#282828] absolute w-full z-10\">\n        <h1 className=\"text-4xl font-bold\">Add Group</h1>\n      </div>\n      <div className=\"container mx-auto min-h-screen min-w-full\">\n        <ParticlesComponent />\n\n        <div className=\"flex items-center justify-center min-h-screen min-w-fit px-8\">\n          <div className=\"flex flex-col relative justify-center items-center w-full p-4 bg-white rounded-lg md:w-2/3 lg:w-1/3 z-10 mt-16 shadow-[0px_0px_25px_10px_#282828]\">\n            <Link\n              to=\"/dashboard\"\n              className=\"absolute top-2 left-2 hover:cursor-pointer\"\n            >\n              <IoArrowBackOutline className=\"text-4xl text-black\" />\n            </Link>\n            <div className=\"flex flex-col justify-center items-center \">\n              <h2 className=\"mb-2 text-xl font-bold text-gray-700\">\n                Add Group\n              </h2>\n              <p className=\"text-sm text-gray-400\">\n                Please fill the form to add a new group.\n              </p>\n            </div>\n\n            {/* groupName */}\n            <div className=\"flex flex-col mt-4 w-80 justify-center \">\n              <form\n                onSubmit={handleSubmit}\n                autoComplete=\"false\"\n                className=\" flex flex-col\"\n              >\n                <div className=\"flex flex-col relative \">\n                  <label className=\"text-gray-400 mb-1\">Group name</label>\n                  <div className=\"flex relative mx-2\">\n                    <span className=\"inline-flex items-center justify-center absolute left-0 top-0 w-10 h-full pl-3 pr-3 text-gray-400 scale-[1.2]\">\n                      <RxTextAlignLeft />\n                    </span>\n                    <input\n                      type=\"text\"\n                      name=\"name\"\n                      value={formData.name}\n                      onChange={handleChange}\n                      className=\"w-full h-10 pl-10 pr-3 text-base placeholder-gray-400 text-black border rounded-lg focus:shadow-outline\"\n                      placeholder=\"Group name\"\n                      required\n                    />\n                  </div>\n                </div>\n                {/* Submit Button */}\n                <div className=\"flex flex-col mt-6 w-52  justify-self-center self-center \">\n                  <button\n                    type=\"submit\"\n                    className=\" place-self-center w-full h-12 px-6 py-2 font-medium tracking-wide text-white capitalize\n                      duration-200 transform bg-sky-600 rounded-full hover:bg-sky-500\n                      focus:outline-none focus:bg-sky-500 hover:scale-[1.095] transition-all duration-800 ease-linear \"\n                  >\n                    Add Group\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}