{"ast":null,"code":"import React,{useState}from\"react\";import{FaUser,FaLock}from\"react-icons/fa\";import{Link,useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[username,setUsername]=useState(null);const[password,setPassword]=useState(null);const navigate=useNavigate();const handleLogin=async e=>{e.preventDefault();let data={username:username,password:password};data.username=data.username.toLowerCase();try{const res=await axios.post(\"http://127.0.0.1:5100/user/login\",data);if(res.data.status===200){localStorage.setItem(\"valid\",true);localStorage.setItem(\"token\",res.data.token);localStorage.setItem(\"username\",res.data.username);localStorage.setItem(\"id\",res.data.id);navigate(\"/dashboard\");}else{localStorage.setItem(\"valid\",false);alert(\"Invalid credentials\");}}catch(err){alert(\"Invalid credentials\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-900 min-h-screen flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-md text-white\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-center mb-4\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"flex flex-col gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(FaUser,{className:\"absolute left-3 top-3 text-gray-400\",size:20}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",className:\"w-full h-12 pl-10 pr-3 text-base bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Username\",onChange:e=>setUsername(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(FaLock,{className:\"absolute left-3 top-3 text-gray-400\",size:20}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",className:\"w-full h-12 pl-10 pr-3 text-base bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Password\",onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"h-12 w-full bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-lg transition\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-4 text-gray-400\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"or \"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"text-blue-400 hover:underline\",children:\"Register Here!\"})]})]})});}export default Login;","map":{"version":3,"names":["React","useState","FaUser","FaLock","Link","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","navigate","handleLogin","e","preventDefault","data","toLowerCase","res","post","status","localStorage","setItem","token","id","alert","err","className","children","onSubmit","size","type","placeholder","onChange","target","value","required","to"],"sources":["/Users/shaghayeghzarei/Documents/School/Semester 6/Fullstack/101274382_lab_test1_chatapp/101274382_lab_test1_chatapp/frontend/src/screens/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { FaUser, FaLock } from \"react-icons/fa\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction Login() {\n    const [username, setUsername] = useState(null);\n    const [password, setPassword] = useState(null);\n    const navigate = useNavigate();\n\n    const handleLogin = async (e) => {\n        e.preventDefault();\n        let data = {\n            username: username,\n            password: password,\n        };\n\n        data.username = data.username.toLowerCase();\n\n        try {\n            const res = await axios.post(\"http://127.0.0.1:5100/user/login\", data);\n\n            if (res.data.status === 200) {\n                localStorage.setItem(\"valid\", true);\n                localStorage.setItem(\"token\", res.data.token);\n                localStorage.setItem(\"username\", res.data.username);\n                localStorage.setItem(\"id\", res.data.id);\n                navigate(\"/dashboard\");\n            } else {\n                localStorage.setItem(\"valid\", false);\n                alert(\"Invalid credentials\");\n            }\n        } catch (err) {\n            alert(\"Invalid credentials\");\n        }\n    };\n\n    return (\n        <div className=\"bg-gray-900 min-h-screen flex justify-center items-center\">\n            <div className=\"bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-md text-white\">\n                <h2 className=\"text-2xl font-semibold text-center mb-4\">Login</h2>\n                <form onSubmit={handleLogin} className=\"flex flex-col gap-4\">\n                    <div className=\"relative\">\n                        <FaUser className=\"absolute left-3 top-3 text-gray-400\" size={20} />\n                        <input\n                            type=\"text\"\n                            id=\"username\"\n                            className=\"w-full h-12 pl-10 pr-3 text-base bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                            placeholder=\"Username\"\n                            onChange={(e) => setUsername(e.target.value)}\n                            required\n                        />\n                    </div>\n                    <div className=\"relative\">\n                        <FaLock className=\"absolute left-3 top-3 text-gray-400\" size={20} />\n                        <input\n                            type=\"password\"\n                            id=\"password\"\n                            className=\"w-full h-12 pl-10 pr-3 text-base bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                            placeholder=\"Password\"\n                            onChange={(e) => setPassword(e.target.value)}\n                            required\n                        />\n                    </div>\n                    <button\n                        type=\"submit\"\n                        className=\"h-12 w-full bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-lg transition\"\n                    >\n                        Login\n                    </button>\n                </form>\n                <div className=\"text-center mt-4 text-gray-400\">\n                    <span>or </span>\n                    <Link to=\"/signup\" className=\"text-blue-400 hover:underline\">Register Here!</Link>\n                </div>\n            </div>\n        </div>\n    );\n}\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}